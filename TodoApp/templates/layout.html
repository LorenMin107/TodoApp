<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/base.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/bootstrap.css') }}">
    <meta charset="UTF-8">
    <meta name="csrf-token" content="{{ request.state.csrf_token }}">
    <title>TodoApp</title>
    <script>
        // Make CSRF token available to JavaScript
        window.csrfToken = "{{ request.state.csrf_token }}";
    </script>
    <!-- Google reCAPTCHA v2 -->
    <!-- NOTE: '6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI' is a test key -->
    <!-- Replace with your actual site key before deploying to production -->
    <script>
        // Function to handle reCAPTCHA script loading errors
        function recaptchaErrorCallback() {
            console.error("reCAPTCHA failed to load");
            // Set a global flag to indicate that reCAPTCHA failed to load
            window.recaptchaLoadFailed = true;
        }
    </script>
    <script src="https://www.google.com/recaptcha/api.js" async defer onerror="recaptchaErrorCallback()"></script>
</head>
<body>

{% include 'navbar.html' %}

<main class="py-5">
    {% block content %}{% endblock %}
</main>

<script src="{{ url_for('static', path='/js/jquery-slim.js') }}"></script>
<script src="{{ url_for('static', path='/js/popper.js') }}"></script>
<script src="{{ url_for('static', path='/js/bootstrap.js') }}"></script>
<script src="{{ url_for('static', path='/js/base.js') }}" defer></script>
</body>
</html>
